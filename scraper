import requests
import urllib
from bs4 import BeautifulSoup

#print(response.text)
from os import link



search_item ="Which of these is NOT another name for a tsunami?"
if("NOT" in search_item):

    search = search_item.replace("NOT", "")
else:
    search = search_item



a = "Seismic Wave"
#a= a.lower()
b = "Shock Wave"
#b= b.lower()
c = "Harbor Wave"
#c=c.lower()

page= 2
#result_block = soup.find_all('div', attrs={'class': 'g'})
#for result in result_block:
   # print(result)

countA=0
countB=0
countC=0

url = "https://www.google.co.in/search?site=&source=hp&q=" + search + "&gws_rd=ssl"

#gets url for any page

for page in range(1, 5):
    urlPage = f'https://www.google.com/search?q={search}\
                    &ei=m3w9WuyXNJHMwALelovwAQ&start={str(page)+"0"}&sa=N&biw=848&bih=972'
    print("URL:" + str(urlPage))


    response = requests.get(urlPage)
    soup = BeautifulSoup(response.text, "html.parser")
    container = soup.findAll("div", {"class" : "s"})


    for item in container:
        print("body: " +item.text)
        #link = item.div.cite
        url = "https://www.britannica.com/place/Mason-and-Dixon-Line"

        words = [a, b, c]



        for word in words:




            if (word.count==1):
            # if word in mystr:
            #  print(word)
            # else:
            #  print(word, "not found")

                if (a in item.text or a.lower() in item.text):
                    countA = countA + 1
                if (b in item.text  or b.lower() in item.text):
                    countB = countB + 1
                if (c in item.text  or c.lower() in item.text):
                    countC = countC + 1
            #check if same word exists in all 3 options

            else:
                for eachWord in word.split():
                    print(eachWord)

                    if (eachWord in item.text and word == a):

                        countA = countA + 1

                    if ((eachWord in item.text) and word == b):
                        countB = countB + 1

                    if (eachWord in item.text and word == c):
                        countC = countC + 1




   # print("link: "+link.text )

#website = urllib.request.urlopen(url)
#website_html = website.read()

#with urllib.request.urlopen('http://python.org/') as response:
  # html = response.read()
  # print(html.text)

   # for line in urllib.request.urlopen(url):
     #   print
      #  line

    #r = requests.get(url)
    #r.text
    #print("text: "+ r.text)
    #site = urllib.request.urlopen(link).read()

    #fp = urllib.request.urlopen(url)
    #mybytes = fp.read()

   # mystr = mybytes.decode("utf8")
   # fp.close()
    #print("decoded: " + mybytes)



        




print (countA , countB , countC)
total = countA+countB+countC

chanceOfA=0
chanceOfB=0
chanceOfC=0
if ("NOT" in search_item):



    if(countA ==0):
        chanceOfA = 1;

    if (countB == 0):
        chanceOfB = 1;

    if (countC == 0):
        chanceOfC = 1;

    else:
        chanceOfA = 1 / countA
        chanceOfB = 1 / countB
        chanceOfC = 1 / countC







else:
    chanceOfA = countA / total

    chanceOfB = countB / total

    chanceOfC = countA / total


print(chanceOfA, chanceOfB, chanceOfC)